<!--
    THIS EXAMPLE WAS DOWNLOADED FROM https://echarts.apache.org/examples/zh/editor.html?c=tree-polyline
-->
<!DOCTYPE html>
<html style="height: 100%">
    <head>
        <meta charset="utf-8">

    </head>
    <body style="height: 100%; margin: 0">
        <p hidden id="data1">{{.Data1}}</p>
        <p hidden id="data2">{{.Data2}}</p>
        <input type="checkbox" id="auto-refresh-checkbox" checked>Update Dashboard</input>
        <div style="height: 100%; width: 50%; float:left;"><div id="container1" style="height: 100%; width: 100%;"></div></div>

        <div style="height: 100%; width: 50%; float:left;"><div id="container2" style="height: 100%; width: 100%;"></div></div>

        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
        <script type="text/javascript">
var dom = document.getElementById("container1");
var myChart = echarts.init(dom);
var app = {};

var option;



var data_string = document.getElementById("data1").innerText;
if (typeof data_string !== 'undefined'){
    var data1 = JSON.parse(data_string)
}


var option = {
    animation: false,
    tooltip: {
        trigger: 'item',
        triggerOn: 'mousemove'
    },
    series:[
        {
            type: 'tree',
            id: 0,
            name: 'tree1',
            data: [data1],

            top: '5%',
            left: '20%',
            bottom: '5%',
            right: '10%',
            width: "400px",

            symbolSize: 7,

            edgeShape: 'polyline',
            edgeForkPosition: '63%',
            initialTreeDepth: 3,

            lineStyle: {
                width: 4
            },

            label: {
                backgroundColor: '#fff',
                position: 'left',
                verticalAlign: 'middle',
                align: 'right'
            },

            leaves: {
                label: {
                    position: 'right',
                    verticalAlign: 'middle',
                    align: 'left'
                }
            },

            emphasis: {
                focus: 'descendant'
            },

            expandAndCollapse: true,
            animationDuration: 550,
            animationDurationUpdate: 750
        }
    ]
};

if (option && typeof option === 'object') {
    myChart.setOption(option);
}

        </script>


<!-- 第二幅图 -->

<script type="text/javascript">
var dom = document.getElementById("container2");
var myChart = echarts.init(dom);
var app = {};

var option;



var data_string = document.getElementById("data2").innerText;
if (typeof data_string !== 'undefined'){
    var data2 = JSON.parse(data_string)
}


var option = {
    animation: false,
    tooltip: {
        trigger: 'item',
        triggerOn: 'mousemove'
    },
    series:[
        {
            type: 'tree',
            id: 0,
            name: 'tree1',
            data: [data2],

            top: '5%',
            left: '12%',
            bottom: '5%',
            right: '20%',
            width: "400px",

            symbolSize: 7,

            edgeShape: 'polyline',
            edgeForkPosition: '63%',
            initialTreeDepth: 3,

            lineStyle: {
                width: 4
            },

            label: {
                backgroundColor: '#fff',
                position: 'left',
                verticalAlign: 'middle',
                align: 'right',
            },

            leaves: {
                label: {
                    position: 'right',
                    verticalAlign: 'middle',
                    align: 'left'
                }
            },

            emphasis: {
                focus: 'descendant'
            },

            expandAndCollapse: true,
            animationDuration: 550,
            animationDurationUpdate: 750
        }
    ]
};

if (option && typeof option === 'object') {
    myChart.setOption(option);
}

function reloadPage(){
  var refreshEnabled = document.getElementById('auto-refresh-checkbox');
  if(refreshEnabled.checked) {
    window.location.reload(1);
  }
}
setInterval(reloadPage, 500);

        </script>
    </body>
</html>
    